<template id="zbase_table_editor_tpl">
  <div class="zbase_content_pane zbase_table_editor fullwidth">

    <div class="zbase_table_editor_breadcrumbs">
      <zbase-breadcrumbs class="page_wrap frame">
        <zbase-breadcrumbs-section>
          <a href="/a/">Datastore</a>
        </zbase-breadcrumbs-section>
        <zbase-breadcrumbs-section>
          <a href="/a/datastore/tables">Tables</a>
        </zbase-breadcrumbs-section>
        <zbase-breadcrumbs-section>
          <a class="table_name_breadcrumb"></a>
        </zbase-breadcrumbs-section>
      </zbase-breadcrumbs>
    </div>

    <h2 class="pagetitle page_wrap frame" style="overflow:hidden;">
      <i class="fa fa-database"></i>Table: <em><a class="table_name"></a></em>
    </h2>

    <z-tabbable class="slim_tabs">
      <div class="page_wrap frame">
        <z-tab class="link"><a href="/a/datastore/tables/">Overview</a></z-tab>
        <z-tab class="link" data-active><a href="/a/datastore/tables/edit/">Schema</a></z-tab>
        <z-tab class="link"><a href="/a/datastore/tables/view/">Table Viewer</a></z-tab>
        <z-tab class="link" style="display: none;"><a href="/a/datastore/tables/">Settings</a></z-tab>
      </div>
    </z-tabbable>

    <div class="page_wrap frame" style="height: 57px;">

      <z-dropdown class="input secondary open_in" data-resolved style="float: right; margin: 11px 0;">
        <z-dropdown-header>
          <z-dropdown-header-value data-static>
              <i class="fa fa-search"></i> &nbsp;Open In
          </z-dropdown-header-value>
        </z-dropdown-header>

        <z-dropdown-flyout>
          <z-dropdown-items>
            <z-dropdown-item data-value="sql_editor">SQL Editor</z-dropdown-item>
          </z-dropdown-items>
        </z-dropdown-flyout>
      </z-dropdown>

      <z-dropdown class="input secondary edit" data-resolved style="float: right; margin: 11px 20px;">
        <z-dropdown-header>
          <z-dropdown-header-value data-static>
              <i class="fa fa-pencil"></i> &nbsp;Edit
          </z-dropdown-header-value>
        </z-dropdown-header>
        <z-dropdown-flyout>
          <z-dropdown-items>
            <z-dropdown-item data-value='add_column'>
              <z-dropdown-icon><i class="fa fa-plus"></i></z-dropdown-icon>
              Add Column
            </z-dropdown-item>
            <z-dropdown-item data-value='delete_column'>
              <z-dropdown-icon><i class="fa fa-trash-o"></i></z-dropdown-icon>
              Remove Column
            </z-dropdown-item>
          </z-dropdown-items>
        </z-dropdown-flyout>
      </z-dropdown>
    </div>

    <table class="z-table page_wrap" style="border-top: 1px solid #ddd;">
      <thead>
        <tr>
          <th>Column Name</th>
          <th>Type</th>
          <th>Optional</th>
        </tr>
      </thead>

      <tbody></tbody>
    </table>

    <z-modal class="add_column">
      <z-modal-box>
        <z-modal-close-icon></z-modal-close-icon>
        <div class="container"></div>
      </z-modal-box>
    </z-modal>

    <z-modal class="delete_column">
      <z-modal-box>
        <z-modal-close-icon></z-modal-close-icon>
        <div class="container"></div>
      </z-modal-box>
    </z-modal>
  </div>
</template>

<template id="zbase_table_editor_row_tpl">
  <tr>
    <td class="name"></td>
    <td class="type"></td>
    <td class="is_nullable"></td>
  </tr>
</template>

<template id="zbase_table_editor_delete_modal_tpl">
  <div class="z-modal-header">Remove Column</div>

  <div class="z-modal-content">
    <div class="error_message hidden" style="margin-bottom: 10px;">
      <h4>Column could not be removed:</h4>
      <span class="msg"></span>
    </div>

    <h3>Please note that this action is irreversable!</h3>
    <p>Please type in the name of the column that you want to remove.</p>
    <input class="z-input" />
  </div>

  <div class="z-modal-footer">
    <button class="z-button primary submit">Remove this column</button>
    <button class="z-button secondary close">Cancel</button>
  </div>
</template>

<template id="zbase_table_editor_add_modal_tpl">
  <div class="z-modal-header">Add Column</div>
  <div class="z-modal-content">
    <div class="error_message hidden">
      <h4>An error occured while adding the field:</h4>
      <span class="msg"></span>
    </div>

    <div class="field">
      <label>Name:</label>
      <input class="z-input name" type="text" />
      <div class="error_note name hidden">Please insert a name</div>
    </div>

    <div class="field">
      <label>Type:</label>
      <z-dropdown class="input type" data-resolved>
        <z-dropdown-flyout>
          <z-dropdown-items>
            <z-dropdown-item data-value="STRING" data-selected>STRING</z-dropdown-item>
            <z-dropdown-item data-value="DOUBLE">DOUBLE</z-dropdown-item>
            <z-dropdown-item data-value="UINT32">UINT32</z-dropdown-item>
            <z-dropdown-item data-value="UINT64">UINT64</z-dropdown-item>
            <z-dropdown-item data-value="BOOLEAN">BOOLEAN</z-dropdown-item>
            <z-dropdown-item data-value="DATETIME">DATETIME</z-dropdown-item>
            <z-dropdown-item data-value="OBJECT">OBJECT</z-dropdown-item>
          </z-dropdown-items>
        </z-dropdown-flyout>
      </z-dropdown>
    </div>

    <div class="field">
      <label>Repeated:</label>
      <z-dropdown class="input is_repeated" data-resolved>
        <z-dropdown-flyout>
          <z-dropdown-items>
            <z-dropdown-item data-value="false" data-selected>FALSE</z-dropdown-item>
            <z-dropdown-item data-value="true">TRUE</z-dropdown-item>
          </z-dropdown-items>
        </z-dropdown-flyout>
      </z-dropdown>
    </div>
  </div>
  <div class="z-modal-footer">
    <button class="z-button primary submit">Save</button>
    <button class="z-button secondary close">Cancel</button>
  </div>
</template>
